"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function handleEvent(event, filters, handler) {
    for (var _i = 0, filters_1 = filters; _i < filters_1.length; _i++) {
        var filter = filters_1[_i];
        if (!filter(event)) {
            return;
        }
    }
    if (handler) {
        handler(event);
    }
}
function defineChildModifier(target, currentFilters, name, filter) {
    Object.defineProperty(target, name, {
        get: function () {
            // call this getter at most once.
            // reuse created instance after next time.
            var ret = createModifier(currentFilters.concat([filter]));
            Object.defineProperty(target, name, {
                value: ret,
                enumerable: true
            });
            return ret;
        },
        enumerable: true,
        configurable: true
    });
}
function createModifier(filters) {
    function m(arg) {
        if (arg instanceof Function) {
            // EventHandler => EventHandler
            return function (event) { return handleEvent(event, filters, arg); };
        }
        else {
            // Event => void
            handleEvent(arg, filters);
            return;
        }
    }
    defineChildModifier(m, filters, "esc", function (e) { return e.keyCode === 27; });
    defineChildModifier(m, filters, "tab", function (e) { return e.keyCode === 9; });
    defineChildModifier(m, filters, "enter", function (e) { return e.keyCode === 13; });
    defineChildModifier(m, filters, "space", function (e) { return e.keyCode === 32; });
    defineChildModifier(m, filters, "up", function (e) { return e.keyCode === 38; });
    defineChildModifier(m, filters, "down", function (e) { return e.keyCode === 40; });
    defineChildModifier(m, filters, "del", function (e) { return e.keyCode === 8 || e.keyCode === 46; });
    defineChildModifier(m, filters, "left", function (e) { return e.keyCode === 37 || e.button === 0; });
    defineChildModifier(m, filters, "right", function (e) { return e.keyCode === 39 || e.button === 2; });
    defineChildModifier(m, filters, "middle", function (e) { return e.button === 1; });
    defineChildModifier(m, filters, "ctrl", function (e) { return e.ctrlKey; });
    defineChildModifier(m, filters, "shift", function (e) { return e.shiftKey; });
    defineChildModifier(m, filters, "alt", function (e) { return e.altKey; });
    defineChildModifier(m, filters, "meta", function (e) { return e.metaKey; });
    defineChildModifier(m, filters, "noctrl", function (e) { return e.ctrlKey !== undefined && !e.ctrlKey; });
    defineChildModifier(m, filters, "noshift", function (e) { return e.shiftKey !== undefined && !e.shiftKey; });
    defineChildModifier(m, filters, "noalt", function (e) { return e.altKey !== undefined && !e.altKey; });
    defineChildModifier(m, filters, "nometa", function (e) { return e.metaKey !== undefined && !e.metaKey; });
    defineChildModifier(m, filters, "stop", function (e) { return e.stopPropagation() || true; });
    defineChildModifier(m, filters, "prevent", function (e) { return e.preventDefault() || true; });
    defineChildModifier(m, filters, "self", function (e) { return e.target === e.currentTarget; });
    return m;
}
var root = createModifier([]);
exports.esc = root.esc, exports.tab = root.tab, exports.enter = root.enter, exports.space = root.space, exports.up = root.up, exports.down = root.down, exports.del = root.del, exports.left = root.left, exports.right = root.right, exports.middle = root.middle, exports.ctrl = root.ctrl, exports.shift = root.shift, exports.alt = root.alt, exports.meta = root.meta, exports.noctrl = root.noctrl, exports.noshift = root.noshift, exports.noalt = root.noalt, exports.nometa = root.nometa, exports.stop = root.stop, exports.prevent = root.prevent, exports.self = root.self;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kaWZpZXJzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL21vZGlmaWVycy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQWlCQSxxQkFBcUIsS0FBWSxFQUFFLE9BQXNCLEVBQUUsT0FBNkI7SUFDcEYsR0FBRyxDQUFDLENBQWUsVUFBTyxFQUFQLG1CQUFPLEVBQVAscUJBQU8sRUFBUCxJQUFPO1FBQXJCLElBQUksTUFBTSxnQkFBQTtRQUNYLEVBQUUsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNqQixNQUFNLENBQUM7UUFDWCxDQUFDO0tBQ0o7SUFDRCxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1FBQ1YsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ25CLENBQUM7QUFDTCxDQUFDO0FBRUQsNkJBQTZCLE1BQWdCLEVBQUUsY0FBNkIsRUFBRSxJQUFrQixFQUFFLE1BQW1CO0lBQ2pILE1BQU0sQ0FBQyxjQUFjLENBQUMsTUFBTSxFQUFFLElBQUksRUFBRTtRQUNoQyxHQUFHLEVBQUU7WUFDRCxpQ0FBaUM7WUFDakMsMENBQTBDO1lBQzFDLElBQU0sR0FBRyxHQUFHLGNBQWMsQ0FBSyxjQUFjLFNBQUUsTUFBTSxHQUFFLENBQUM7WUFDeEQsTUFBTSxDQUFDLGNBQWMsQ0FBQyxNQUFNLEVBQUUsSUFBSSxFQUFFO2dCQUNoQyxLQUFLLEVBQUUsR0FBRztnQkFDVixVQUFVLEVBQUUsSUFBSTthQUNuQixDQUFDLENBQUM7WUFDSCxNQUFNLENBQUMsR0FBRyxDQUFDO1FBQ2YsQ0FBQztRQUNELFVBQVUsRUFBRSxJQUFJO1FBQ2hCLFlBQVksRUFBRSxJQUFJO0tBQ3JCLENBQUMsQ0FBQztBQUNQLENBQUM7QUFFRCx3QkFBd0IsT0FBc0I7SUFDMUMsV0FBVyxHQUFRO1FBQ2YsRUFBRSxDQUFDLENBQUMsR0FBRyxZQUFZLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFD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RUFBRSxNQUFNLEVBQUUsVUFBQyxDQUFNLElBQUssT0FBQSxDQUFDLENBQUMsT0FBTyxFQUFULENBQVMsQ0FBQyxDQUFDO0lBRS9ELG1CQUFtQixDQUFDLENBQUMsRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFLFVBQUMsQ0FBTSxJQUFLLE9BQUEsQ0FBQyxDQUFDLE9BQU8sS0FBSyxTQUFTLElBQUksQ0FBQyxDQUFDLENBQUMsT0FBTyxFQUFyQyxDQUFxQyxDQUFDLENBQUM7SUFDN0YsbUJBQW1CLENBQUMsQ0FBQyxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsVUFBQyxDQUFNLElBQUssT0FBQSxDQUFDLENBQUMsUUFBUSxLQUFLLFNBQVMsSUFBSSxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQXZDLENBQXVDLENBQUMsQ0FBQztJQUNoRyxtQkFBbUIsQ0FBQyxDQUFDLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxVQUFDLENBQU0sSUFBSyxPQUFBLENBQUMsQ0FBQyxNQUFNLEtBQUssU0FBUyxJQUFJLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBbkMsQ0FBbUMsQ0FBQyxDQUFDO0lBQzFGLG1CQUFtQixDQUFDLENBQUMsRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFLFVBQUMsQ0FBTSxJQUFLLE9BQUEsQ0FBQyxDQUFDLE9BQU8sS0FBSyxTQUFTLElBQUksQ0FBQyxDQUFDLENBQUMsT0FBTyxFQUFyQyxDQUFxQyxDQUFDLENBQUM7SUFFN0YsbUJBQW1CLENBQUMsQ0FBQyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsVUFBQSxDQUFDLElBQUksT0FBQSxDQUFDLENBQUMsZUFBZSxFQUFFLElBQUksSUFBSSxFQUEzQixDQUEyQixDQUFDLENBQUM7SUFDMUUsbUJBQW1CLENBQUMsQ0FBQyxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsVUFBQSxDQUFDLElBQUksT0FBQSxDQUFDLENBQUMsY0FBYyxFQUFFLElBQUksSUFBSSxFQUExQixDQUEwQixDQUFDLENBQUM7SUFDNUUsbUJBQW1CLENBQUMsQ0FBQyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsVUFBQSxDQUFDLElBQUksT0FBQSxDQUFDLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxhQUFhLEVBQTVCLENBQTRCLENBQUMsQ0FBQztJQUMzRSxNQUFNLENBQUMsQ0FBYSxDQUFDO0FBQ3pCLENBQUM7QUFFRCxJQUFNLElBQUksR0FBRyxjQUFjLENBQUMsRUFBRSxDQUFDLENBQUM7QUFFNUIsUUFBQSxHQUFHLEdBR0gsSUFBSSxNQUhDLFFBQUEsR0FBRyxHQUdSLElBQUksTUFITSxRQUFBLEtBQUssR0FHZixJQUFJLFFBSGEsUUFBQSxLQUFLLEdBR3RCLElBQUksUUFIb0IsUUFBQSxFQUFFLEdBRzFCLElBQUksS0FId0IsUUFBQSxJQUFJLEdBR2hDLElBQUksT0FIOEIsUUFBQSxHQUFHLEdBR3JDLElBQUksTUFIbUMsUUFBQSxJQUFJLEdBRzNDLElBQUksT0FIeUMsUUFBQSxLQUFLLEdBR2xELElBQUksUUFIZ0QsUUFBQSxNQUFNLEdBRzFELElBQUksU0FGSixRQUFBLElBQUksR0FFSixJQUFJLE9BRkUsUUFBQSxLQUFLLEdBRVgsSUFBSSxRQUZTLFFBQUEsR0FBRyxHQUVoQixJQUFJLE1BRmMsUUFBQSxJQUFJLEdBRXRCLElBQUksT0FGb0IsUUFBQSxNQUFNLEdBRTlCLElBQUksU0FGNEIsUUFBQSxPQUFPLEdBRXZDLElBQUksVUFGcUMsUUFBQSxLQUFLLEdBRTlDLElBQUksUUFGNEMsUUFBQSxNQUFNLEdBRXRELElBQUksU0FESixRQUFBLElBQUksR0FDSixJQUFJLE9BREUsUUFBQSxPQUFPLEdBQ2IsSUFBSSxVQURXLFFBQUEsSUFBSSxHQUNuQixJQUFJLE1BQUMifQ==